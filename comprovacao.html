<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmação de Agendamento</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #CDBBA3;
      display: flex;
      justify-content: center;      
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .card {
      background: #F8ECDE;;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: center;  
      width: 320px;
    }
    h2 {
      color: #BF8C6F;
    }
    p {
      margin: 10px 0;
    }
    button {
      padding: 10px 20px;
      margin: 10px 5px;
      border: none;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      font-size: 16px;
    }
    .whatsapp {
      background-color: #25D366;
    }
    .agenda {
      background-color: #4285F4;
    }
  </style>
</head>
<body>

<div class="card" id="agendamentoCard">
  <h2>Agendamento não encontrado</h2>
  <p id="paciente"></p>
  <p id="data"></p>
  <p id="hora"></p>
  <button class="whatsapp" id="btnWhats">Confirmar pelo WhatsApp</button>
  <button class="agenda" id="btnAgenda">Adicionar ao Google Agenda</button>
</div>

<script>
  // Coloque aqui o WhatsApp da sua clínica
  const clinicaWhats = "+5519987687285"; // <--- seu número

  // Pegando o ID da URL
  const params = new URLSearchParams(window.location.search);
  let id = params.get("id");

  // Fallback para teste
  if (!id) {
    id = "123"; // id de teste
  }

  // Simulação de banco de dados
  const agendamentos = {
    "123": { paciente: "Luana Lucia", data: "11/09/2025", hora: "15:00" },
    "2": { paciente: "Edmilson", data: "17/09/2025", hora: "13:45" },
    "19991700152": { paciente: "Neusa", data: "16/09/2025", hora: "08h30"},
    "19993708897": { paciente: "Maria", data: "16/09/2025", hora: "14h45"},
    "19993708897": { paciente: "Maria", data: "16/09/2025", hora: "14h45"},
    "19984105859": { paciente: "Enzo", data: "16/09/2025", hora: "16h45"},
    "19971481728": { paciente: "Filipe", data: "17/09/2025", hora: "09h00"},
    "19983686487": { paciente: "Maria", data: "17/09/2025", hora: "13h45"},
    "19991854514": { paciente: "Edmilson", data: "17/09/2025", hora: "14h45"},
    "19983257279": { paciente: "Douglas", data: "17/09/2025", hora: "15h45"},
    "19998711944": { paciente: "Marlene", data: "18/09/2025", hora: "10h45"},
    "19989398709": { paciente: "Nicolly", data: "18/09/2025", hora: "12h45"},
    "21986918970": { paciente: "Daiane", data: "18/09/2025", hora: "13h45"},
    "19991220464": { paciente: "Yara", data: "18/09/2025", hora: "14h45"},
    "19993508836": { paciente: "Marcos", data: "18/09/2025", hora: "16h45"},
    "19993508836": { paciente: "José", data: "23/09/2025", hora: "09h45"},
    "19993508836": { paciente: "Maria", data: "23/09/2025", hora: "10h45"},
    "19993508836": { paciente: "Carine", data: "23/09/2025", hora: "12h45"},
    "19993508836": { paciente: "Mirany", data: "23/09/2025", hora: "16h45"}

  
  
  



  };

  const agendamento = agendamentos[id];

  const card = document.getElementById("agendamentoCard");
  const pacienteEl = document.getElementById("paciente");
  const dataEl = document.getElementById("data");
  const horaEl = document.getElementById("hora");
  const btnWhats = document.getElementById("btnWhats");
  const btnAgenda = document.getElementById("btnAgenda");

  if (agendamento) {
    card.querySelector("h2").textContent = "Confirmação de Agendamento";
    pacienteEl.textContent = "Paciente: " + agendamento.paciente;
    dataEl.textContent = "Data: " + agendamento.data;
    horaEl.textContent = "Hora: " + agendamento.hora;

    // WhatsApp
    btnWhats.onclick = () => {
      const mensagem = `Olá, boa tarde, eu ${agendamento.paciente}, confirmo meu agendamento para o dia ${agendamento.data} às ${agendamento.hora}.`;
      window.open(`https://wa.me/${clinicaWhats}?text=${encodeURIComponent(mensagem)}`, "_blank");
    };

    // Google Agenda
    btnAgenda.onclick = () => {
      const dataSplit = agendamento.data.split("/");
      const horaSplit = agendamento.hora.split(":");
      const start = new Date(dataSplit[2], dataSplit[1]-1, dataSplit[0], horaSplit[0], horaSplit[1]);
      const end = new Date(start.getTime() + 30*60*1000); // 30 minutos de duração
      const formatDate = (d) => d.toISOString().replace(/-|:|\.\d\d\d/g,"");
      const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=Consulta Dentista - ${agendamento.paciente}&dates=${formatDate(start)}/${formatDate(end)}&details=Agendamento confirmado&sf=true&output=xml`;
      window.open(url, "_blank");
    };
  }
</script>

</body>
</html>



















